flag:
  description: Defines a flag but no resource.
  main: guild.pass
  flags-dest: args
  flags:
    foo: 123

resource-default:
  description: Defines a resource using the default name,
  main: guild.pass
  flags-dest: args
  requires:
    - file: foo.txt

resource-name:
  description: Defines a resource with a name.
  main: guild.pass
  flags-dest: args
  requires:
    - file: foo.txt
      name: infile

resource-flag-name:
  description: Defines a resource with a flag name.
  main: guild.pass
  flags-dest: args
  requires:
    - file: foo.txt
      flag-name: infile

resource-name-and-flag-name:
  description: Defines a resource with a both a name and a flag name.
  main: guild.pass
  flags-dest: args
  requires:
    - file: foo.txt
      name: input file
      flag-name: input-file

flag-and-resource:
  description: Provides flag def for a resource.
  main: guild.pass
  flags-dest: args
  flags:
    infile:
      description: Path to infile
      default: foo.txt
  requires:
    - file: foo.txt
      flag-name: infile

resource-op:
  main: guild.pass
  flags-dest: args
  requires:
    - operation: flag
      warn-if-empty: false

resource-op-with-flag:
  main: guild.pass
  flags-dest: args
  flags:
    flag:
      description: Run ID for 'flag' run (defaults to latest non-error run)
      default: null
  requires:
    - operation: flag
      warn-if-empty: false

resource-op-with-name:
  main: guild.pass
  flags-dest: args
  requires:
    - operation: flag
      name: flag-run
      warn-if-empty: false

resource-op-with-name-and-flag:
  main: guild.pass
  flags-dest: args
  flags:
    flag-run:
      description: Run ID for 'flag' run (defaults to latest non-error run)
      default: null
      arg-name: FLAG_RUN
  requires:
    - operation: flag
      name: flag-run
      warn-if-empty: false
